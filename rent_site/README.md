Проект Сайта Аренды
Обзор

Проект Сайта Аренды – это веб-приложение для публикации и аренды недвижимости, позволяющее пользователям регистрироваться, управлять объявлениями, бронировать объекты, а также оставлять отзывы о взятой в аренду недвижимости. В проекте используется Django для разработки бэкенда, Django REST Framework (DRF) для создания API, а Swagger (через drf-yasg) для документации API.
Основные возможности

    Аутентификация пользователей: Регистрация, вход и выход из аккаунта.
    Объявления недвижимости: Пользователи могут создавать, редактировать и просматривать объявления с описанием, изображениями и информацией о местоположении.
    Система бронирования: Позволяет пользователям бронировать доступные объекты с отслеживанием статуса (в ожидании, одобрено или отклонено).
    Система отзывов и оценок: Пользователи могут оставлять отзывы и ставить оценки только для объектов, которые они арендовали.
    Скидки: Для объявлений могут быть настроены скидки, которые применяются на основе истории бронирований пользователя.
    Сообщения и чаты: Позволяет пользователям и владельцам объектов обмениваться сообщениями.
    Документация API: Построена на базе Swagger для удобного тестирования и доступа к API.

Установка

    Клонируйте репозиторий:

git clone <ссылка на репозиторий>
cd <папка проекта>

Настройте виртуальное окружение:

python -m venv venv
source venv/bin/activate  # Для Linux/Mac
venv\Scripts\activate     # Для Windows

Установите зависимости:

pip install -r requirements.txt

Примените миграции:

python manage.py migrate

Создайте суперпользователя для доступа к административной панели Django:

python manage.py createsuperuser

Запустите сервер:

    python manage.py runserver

    Документация Swagger: После запуска сервера документация Swagger доступна по адресу http://127.0.0.1:8000/swagger/.

Структура проекта

    listings: Основное приложение, содержащее views, модели, сериализаторы и API views для работы с объявлениями, бронированиями, рейтингами и отзывами.
    api_views: Содержит представления Django REST Framework для предоставления функционала объявлений в качестве API.
    serializers.py: Сериализаторы для преобразования моделей в JSON-формат, что упрощает интеграцию с фронтендом и мобильными приложениями.

Модели

    City: Сохраняет информацию о городах, включая название, страну, широту и долготу.
    Listing: Представляет объявления недвижимости с полями для заголовка, описания, цены, типа недвижимости и рейтинга.
    Booking: Управляет деталями бронирования недвижимости, включая статус и даты.
    Review: Позволяет пользователям оставлять отзывы и оценки для объектов, которые они арендовали.
    Rating: Позволяет пользователям оставлять оценки для объектов, которые агрегируются в общий рейтинг.
    Discount: Скидки, которые можно применять к объявлениям на основе истории бронирований.

API Endpoints

Проект предоставляет основные конечные точки (endpoints) через Django REST Framework, все они документированы в Swagger.
Объявления

    GET /listings/: Получение списка объявлений с фильтрами для сортировки, поиска и пагинации.
    POST /listings/: Создание нового объявления (требуется авторизация).
    PUT/PATCH /listings/<id>/: Обновление объявления (требуется авторизация).
    DELETE /listings/<id>/: Удаление объявления (требуется авторизация).

Бронирования

    GET /bookings/: Получение списка бронирований для авторизованного пользователя.
    POST /listings/<id>/book/: Бронирование указанного объявления.

Отзывы

    GET /listings/<id>/reviews/: Получение отзывов для указанного объявления.
    POST /listings/<id>/reviews/: Оставление отзыва для арендованного объекта.

Рейтинги

    POST /listings/<id>/rate/: Оставление оценки для указанного объявления.

Чаты и сообщения

    GET /chat/: Получение списка чатов для авторизованного пользователя.
    POST /chat/<recipient_id>/: Отправка сообщения конкретному пользователю.

Тестирование API

Чтобы протестировать API, выполните следующие шаги:

    Документация Swagger: Посетите http://127.0.0.1:8000/swagger/, чтобы увидеть доступные конечные точки и протестировать их прямо в браузере.
    Клиенты для API: Используйте Postman или аналогичные инструменты для тестирования различных конечных точек API. Авторизация доступна через логин и токен сессии для запросов, требующих авторизации.

Пример данных для тестирования

    Сортировка: /listings/?ordering=-price
    Поиск: /listings/?search=apartment
    Пагинация: /listings/?page=2

Swagger Documentation

Swagger предоставляет визуальный интерфейс для взаимодействия с API. Документация Swagger позволяет:

    Просматривать все доступные конечные точки и их методы (GET, POST и т. д.).
    Тестировать вызовы API прямо в браузере, вводя параметры и отправляя запросы.
    Просматривать ответы от каждой конечной точки и видеть возвращаемые данные.

Настройка

Swagger доступен по адресу http://127.0.0.1:8000/swagger/, что упрощает взаимодействие и проверку функциональности API для разработчиков и тестировщиков.
Дополнительные особенности

    Django Jet Admin: В проекте используется Django Jet для улучшенного интерфейса администратора, что упрощает управление объявлениями, бронированиями и другими сущностями.
    Обработка ошибок: DRF предоставляет встроенную обработку ошибок и сообщений, что делает отладку более удобной.
    Поддержка CORS: Настроено с использованием django-cors-headers для разрешения междоменных запросов, особенно полезно при интеграции с фронтенд-приложениями.

Возможные улучшения

    Добавление дополнительных фильтров: Можно добавить фильтры для уточнения списка объявлений по городу, типу недвижимости или доступным датам.
    Уведомления: Реализовать уведомления в реальном времени для обновлений статуса бронирования, новых сообщений или отзывов.
    Улучшение поиска: Интеграция с инструментами поиска, такими как Elasticsearch, для улучшения возможностей поиска.